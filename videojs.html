<head>
  <title>15</title>
   <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
   <link rel="stylesheet" href="main.css">
</head>

<div class="slide-container">
  <div class="slide">
    <h1>Why learn Rails at all?</h1>
    <video width="320" height="240" autoplay>
      <source src="https://www.w3schools.com/tags/movie.mp4#t=5,8" type="video/mp4">
      <source src="movie.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video>
  </div>
  <div class="slide">
    <h1>4.1th slide</h1>
    <video width="320" height="240" autoplay>
      <source src="https://www.w3schools.com/tags/movie.mp4#t=5,8" type="video/mp4">
      <source src="movie.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video>
  </div>
  <div class="slide">
    <h1>4.2th slide</h1>
    <video width="320" height="240" autoplay>
      <source src="https://www.w3schools.com/tags/movie.mp4#t=5,8" type="video/mp4">
      <source src="movie.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video>
  </div>    
</div>

var videos = document.getElementsByTagName("video");

function checkScroll() {
    var fraction = 0.8; // Play when 80% of the player is visible.

    for(var i = 0; i < videos.length; i++) {

        var video = videos[i];

        var x = video.offsetLeft, y = video.offsetTop, w = video.offsetWidth, h = video.offsetHeight, r = x + w, //right
            b = y + h, //bottom
            visibleX, visibleY, visible;

            visibleX = Math.max(0, Math.min(w, window.pageXOffset + window.innerWidth - x, r - window.pageXOffset));
            visibleY = Math.max(0, Math.min(h, window.pageYOffset + window.innerHeight - y, b - window.pageYOffset));

            visible = visibleX * visibleY / (w * h);

            if (visible > fraction) {
                video.play();
            } else {
                video.pause();
            }

    }

}

window.addEventListener('scroll', checkScroll, false);
window.addEventListener('resize', checkScroll, false);

